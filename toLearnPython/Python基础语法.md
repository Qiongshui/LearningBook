# Python的基础语法
#参考网址： https://zhuanlan.zhihu.com/p/29576732
## Python 引号

Python 可以使用引号( **'** )、双引号( **"** )、三引号( **'''** 或 **"""** ) 来表示字符串，引号的开始与结束必须是相同类型的。

其中三引号可以由多行组成，编写多行文本的快捷语法，常用于文档字符串，在文件的特定地点，被当做注释。

```python
word = 'word'
sentence = "这是一个句子。"
paragraph = """这是一个段落。
包含了多个语句"""
```

## 注释

### 单行注释

以字符“#”开头，可以在行首，也可以跟在一行语句的后面。

~~~python
#本行是注释
print("Hello, World!")
print("comment at tail!")   #这里是注释
~~~

### 多行注释

以"""(triple quotes)开头，“”“结尾，中间的内容为注释。

~~~python
"""
这是第1行注释
这是第2行注释
这是第3行注释
"""
print("Hello, World!")
~~~

## Python 中文编码

可以在头文件开头加入 **# -\*- coding: UTF-8 -\*-** 或者 **# coding=utf-8** 来指定编码。中文一般可以采用utf-8或gbk编码。

*Python3.X 源码文件默认使用utf-8编码，所以可以正常解析中文，无需指定 UTF-8 编码。*

通过在文件头部指定编码注释，Python解释器会按照指定的编码方式来对文件的内容进行解码。

现在计算机系统通用的字符编码工作方式：在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。

浏览网页的时候，服务器会把动态生成的Unicode内容转换为UTF-8再传输到浏览器：所以你看到很多网页的源码上会有类似`<meta charset="UTF-8" />`的信息，表示该网页正是用的UTF-8编码。

Python的字符串类型是`str`，在内存中以Unicode表示。



## Python 标识符

在 Python 里，标识符由字母、数字、下划线组成。

在 Python 中，所有标识符可以包括英文、数字以及下划线(_)，但不能以数字开头。

Python 中的标识符是区分大小写的。

以下划线开头的标识符是有特殊意义的。以单下划线开头 **_foo** 的代表不能直接访问的类属性，需通过类提供的接口进行访问，不能用 **from xxx import \*** 而导入。

以双下划线开头的 **__foo** 代表类的私有成员，以双下划线开头和结尾的 **__foo__** 代表 Python 里特殊方法专用的标识，如 **__init__()** 代表类的构造函数。

Python 可以同一行显示多条语句，方法是用分号 **;** 分开，如：

```python
>>> print ('hello');print ('runoob');
hello
runoob
```

## Python 保留字符

下面的列表显示了在Python中的保留字。这些保留字不能用作常数或变数，或任何其他标识符名称。

所有 Python 的关键字只包含小写字母。

| and      | exec    | not    |
| -------- | ------- | ------ |
| assert   | finally | or     |
| break    | for     | pass   |
| class    | from    | print  |
| continue | global  | raise  |
| def      | if      | return |
| del      | import  | try    |
| elif     | in      | while  |
| else     | is      | with   |
| except   | lambda  | yield  |

## 行和缩进

学习 Python 与其他语言最大的区别就是，Python 的代码块不使用大括号 **{}** 来控制类，函数以及其他逻辑判断。python 最具特色的就是用缩进来写模块。

缩进的空白数量是可变的，但是所有代码块语句必须包含相同的缩进空白数量，这个必须严格执行。 例如采用单个制表符或两个空格或 四个空格来进行缩进。

## 多行语句

Python语句中一般以新行作为语句的结束符。

但是我们可以使用斜杠（ \）将一行的语句分为多行显示，如下所示：

```python
total = item_one + \
        item_two + \
        item_three
```

语句中包含 [], {} 或 () 括号就不需要使用多行连接符。如下实例：

```python
days = ['Monday', 'Tuesday', 'Wednesday',
        'Thursday', 'Friday']
```



## 数据类型

### 内置数据类型

| 文本类型Text Type:     | `str`                              |
| ---------------------- | :--------------------------------- |
| 数值类型Numeric Types: | `int`, `float`, `complex`          |
| 序列Sequence Types:    | `list`, `tuple`, `range`           |
| 字典Mapping Type:      | `dict`                             |
| 数据集Set Types:       | `set`, `frozenset`                 |
| 布尔Boolean Type:      | `bool`                             |
| 二进制Binary Types:    | `bytes`, `bytearray`, `memoryview` |

- `int`  ： 可正可负，没有小数，没有长度限制
- `float` ： 含有小数，可以用科学计数表示，如**z = -87.7e100**，**z = -87.7E100**
- `complex` ： 复数，用字母j表示虚部。如：**x = 3+5j， z = -5j**
  - 假设复数 a=1 + 2j, 那么可以通过下面这个方法得到实部、虚部和共轭：

    ~~~python
    a.real
    a.imag
    a.conjugate()
    ~~~
  
### 得到数据类型

可以用函数`type()` 来获得数据的类型。

~~~python
>>> x=5
>>> print(type(x))
<class 'int'>
~~~

### 数值范围

- 整型数

| 数据类型 | 范围                                      |
| ---- | --------------------------------------------  |
|整型  |  32 位系统， 4 字节; 64位系统，8字节           |
|长整型 Long Integers| 长整型的一个标志是后面以字母L结尾|

- 浮点数

  查看浮点数的信息：

  ~~~python
  import sys
  sys.float_info
  ~~~

  显示信息为:

  ~~~bash
  sys.float_info(max=1.7976931348623157e+308, max_exp=1024, max_10_exp=308, min=2.2250738585072014e-308, min_exp=-1021, min_10_exp=-307, dig=15, mant_dig=53, epsilon=2.220446049250313e-16, radix=2, rounds=1)  
  ~~~
  
  可以通过代码来得到浮点数能表示的范围和精度:

  ~~~python
  >>> sys.float_info.max
  1.7976931348623157e+308
  >>> sys.float_info.min
  2.2250738585072014e-308
  >>> sys.float_info.epsilon
  2.220446049250313e-16
  ~~~

### 数值表示

- 科学计数法: e

  ~~~python
  1e-8
  ~~~

- 16进制: 0x或0X开头

  ~~~python
  0xABEF     #十进制数字44015
  ~~~

- 8进制: 0o开头

  ~~~python
  0o567      #十进制数字375
  ~~~

- 2进制: 0b开头
  
  ~~~python
  0b1101      #十进制数字13
  ~~~

- bool类型
  
  ~~~python
  p = False    #注意，不能是false，首字母为大写字母
  q = True
  type(p)      #结果为: <class 'bool'>
  ~~~

| int    | long                  | float      | complex    |
| :----- | :-------------------- | :--------- | :--------- |
| 10     | 51924361L             | 0.0        | 3.14j      |
| 100    | -0x19323L             | 15.20      | 45.j       |
| -786   | 0122L                 | -21.9      | 9.322e-36j |
| 080    | 0xDEFABCECBDAECBFBAEl | 32.3e+18   | .876j      |
| -0490  | 535633629843L         | -90.       | -.6545+0J  |
| -0x260 | -052318172735L        | -32.54e100 | 3e+26J     |
| 0x69   | -4721885298529L       | 70.2E-12   | 4.53e-7j   |

### 比较运算

- 常用的比较运算符号

~~~python
<, >, <=, >=, ==, !=
~~~

- 链式比较

~~~python
x = 2 
1 < x <= 3   #结果为: True
~~~

### 赋值

| 编号 | 示例                                         | 数据类型   |
| ---- | -------------------------------------------- | ---------- |
| 1    | x = "Hello World"                            | str        |
| 2    | x = 20                                       | int        |
| 3    | x = 20.5                                     | float      |
| 4    | x = 1j                                       | complex    |
| 5    | x = ["apple", "banana", "cherry"]            | list       |
| 6    | x = ("apple", "banana", "cherry")            | tuple      |
| 7    | x = range(6)                                 | range      |
| 8    | x = {"name" : "John", "age" : 36}            | dict       |
| 9    | x = {"apple", "banana", "cherry"}            | set        |
| 10   | x = frozenset({"apple", "banana", "cherry"}) | frozenset  |
| 11   | x = True                                     | bool       |
| 12   | x = b"Hello"                                 | bytes      |
| 13   | x = bytearray(5)   #表示5个字节的数组        | bytearray  |
| 14   | x = memoryview(bytes(5))                     | memoryview |

### 多个变量赋值

Python允许你同时为多个变量赋值。例如：

```
a = b = c = 1
```

以上实例，创建一个整型对象，值为1，三个变量被分配到相同的内存空间上。

您也可以为多个对象指定多个变量。例如：

```
a, b, c = 1, 2, "john"
```

以上实例，两个整型对象 1 和 2 分别分配给变量 a 和 b，字符串对象 "john" 分配给变量 c。

### 赋值为特定的数据类型

| 编号 | 示例                                                         | 数据类型  |
| ---- | ------------------------------------------------------------ | --------- |
| 1    | x = str("Hello World")                                       | str       |
| 2    | x = int(20)                                                  | int       |
| 3    | x = float(20.5)                                              | float     |
| 4    | x = complex(1j)                                              | complex   |
| 5    | x = list(("apple", "banana", "cherry"))                      | list      |
| 6    | x = tuple(("apple", "banana", "cherry"))                     | tuple     |
| 7    | x = range(6)   <span style="color:red">#即x=range(0,6)</span> | range     |
| 8    | x = dict(name="John", age=36)                                | dict      |
| 9    | x = set(("apple", "banana", "cherry"))                       | set       |
| 10   | x = frozenset({"apple", "banana", "cherry"})                 | frozenset |
| 11   | x = bool(5)      <span style="color:red">#即x=True</span>    | bool      |
| 12   | x = bytes(5)      <span style="color:red">#即x含有5个元素</span> | bytes     |
| 13   | x = bytearray(5)     <span style="color:red">#表示5个字节的数组</span> | bytearray |
| 14   | x = memoryview(bytes(5))                                     | memoryvie |

### 基本数值强制转换

采用函数来实现：
| 函数                                                         | 描述                                                |
| :----------------------------------------------------------- | :-------------------------------------------------- |
| int(x [,base\]) | 将x转换为一个整数                                   |
| long(x [,base\] ) | 将x转换为一个长整数                                 |
| float(x) | 将x转换到一个浮点数                                 |
| complex(real [,imag\]) | 创建一个复数                                        |
| str(x) | 将对象 x 转换为字符串                               |
| repr(x) | 将对象 x 转换为表达式字符串                         |
| eval(str) | 用来计算在字符串中的有效Python表达式,并返回一个对象 |
| tuple(s) | 将序列 s 转换为一个元组                             |
| list(s)  | 将序列 s 转换为一个列表                             |
| set(s) | 转换为可变集合                                      |
| dict(d) | 创建一个字典。d 必须是一个序列 (key,value)元组。    |
| frozenset(s) | 转换为不可变集合                                    |
| chr(x) | 将一个整数转换为一个字符                            |
| unichr(x) | 将一个整数转换为Unicode字符                         |
| ord(x)| 将一个字符转换为它的整数值                          |
| hex(x) | 将一个整数转换为一个十六进制字符串                  |
| oct(x) | 将一个整数转换为一个八进制字符串                    |

例：

~~~python
x = 1    # int
y = 2.8  # float
z = 1j   # complex
a = float(x)     #convert from int to float:
b = int(y)       #convert from float to int:
c = complex(x)   #convert from int to complex:
y = int(2.8)     #浮点数转整型号数，y将会是2
w = float("4.2") #字符串变为浮点数，w将会使4.2
z = str(3.0)     #z会使字符串'3.0'
~~~


## 运算

### In-place运算

类似于C语言里面的语法：

~~~python
a  = 0
a += 1
a *= 2
a -= 3
~~~


### 运算符

- 算术运算符
- 比较（关系）运算符
- 赋值运算符
- 逻辑运算符
- 位运算符
- 成员运算符
- 身份运算符
- 运算符优先级

### Python算术运算符

以下假设变量a为10，变量b为21：

| 运算符 | 描述                                            | 实例                      |
| :----- | :---------------------------------------------- | :------------------------ |
| +      | 加 - 两个对象相加                               | a + b 输出结果 31         |
| -      | 减 - 得到负数或是一个数减去另一个数             | a - b 输出结果 -11        |
| *      | 乘 - 两个数相乘或是返回一个被重复若干次的字符串 | a * b 输出结果 210        |
| /      | 除 - x 除以 y                                   | b / a 输出结果 2.1        |
| %      | 取模 - 返回除法的余数                           | b % a 输出结果 1          |
| **     | 幂 - 返回x的y次幂                               | a**b 为10的21次方         |
| //     | 取整除 - 向下取接近商的整数                     | `>>> 9//2 4 >>> -9//2 -5` |

### Python比较运算符

以下假设变量a为10，变量b为20：

| 运算符 | 描述                                                         | 实例                  |
| :----- | :----------------------------------------------------------- | :-------------------- |
| ==     | 等于 - 比较对象是否相等                                      | (a == b) 返回 False。 |
| !=     | 不等于 - 比较两个对象是否不相等                              | (a != b) 返回 True。  |
| >      | 大于 - 返回x是否大于y                                        | (a > b) 返回 False。  |
| <      | 小于 - 返回x是否小于y。所有比较运算符返回1表示真，返回0表示假。这分别与特殊的变量True和False等价。注意，这些变量名的大写。 | (a < b) 返回 True。   |
| >=     | 大于等于 - 返回x是否大于等于y。                              | (a >= b) 返回 False。 |
| <=     | 小于等于 - 返回x是否小于等于y。                              | (a <= b) 返回 True。  |

### Python赋值运算符

以下假设变量a为10，变量b为20：

| 运算符 | 描述                                                         | 实例                                                         |
| :----- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| =      | 简单的赋值运算符                                             | c = a + b 将 a + b 的运算结果赋值为 c                        |
| +=     | 加法赋值运算符                                               | c += a 等效于 c = c + a                                      |
| -=     | 减法赋值运算符                                               | c -= a 等效于 c = c - a                                      |
| *=     | 乘法赋值运算符                                               | c *= a 等效于 c = c * a                                      |
| /=     | 除法赋值运算符                                               | c /= a 等效于 c = c / a                                      |
| %=     | 取模赋值运算符                                               | c %= a 等效于 c = c % a                                      |
| **=    | 幂赋值运算符                                                 | c **= a 等效于 c = c ** a                                    |
| //=    | 取整除赋值运算符                                             | c //= a 等效于 c = c // a                                    |
| :=     | 海象运算符，可在表达式内部为变量赋值。<br> **Python3.8 版本新增运算符**。 | 在这个示例中，赋值表达式可以避免调用 len() 两次:   <br> if (n := len(a)) > 10:     <br>        print("List is too long") |

### Python位运算符

按位运算符是把数字看作二进制来进行计算的.

| 运算符 | 描述                                                         | 实例                                                         |
| :----- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| &      | 按位与运算符：参与运算的两个值,如果两个相应位都为1,则该位的结果为1,否则为0 | (a & b) 输出结果 12 ，二进制解释： 0000 1100                 |
| \|     | 按位或运算符：只要对应的二个二进位有一个为1时，结果位就为1。 | (a \| b) 输出结果 61 ，二进制解释： 0011 1101                |
| ^      | 按位异或运算符：当两对应的二进位相异时，结果为1              | (a ^ b) 输出结果 49 ，二进制解释： 0011 0001                 |
| ~      | 按位取反运算符：对数据的每个二进制位取反,即把1变为0,把0变为1。**~x** 类似于 **-x-1** | (~a ) 输出结果 -61 ，二进制解释： 1100 0011， 在一个有符号二进制数的补码形式。 |
| <<     | 左移动运算符：运算数的各二进位全部左移若干位，由"<<"右边的数指定移动的位数，高位丢弃，低位补0。 | a << 2 输出结果 240 ，二进制解释： 1111 0000                 |
| >>     | 右移动运算符：把">>"左边的运算数的各二进位全部右移若干位，">>"右边的数指定移动的位数 | a >> 2 输出结果 15 ，二进制解释： 0000 1111                  |

### Python逻辑运算符

Python语言支持逻辑运算符，以下假设变量 a 为 10, b为 20:

| 运算符 | 逻辑表达式 | 描述                                                         | 实例                    |
| :----- | :--------- | :----------------------------------------------------------- | :---------------------- |
| and    | x and y    | 布尔"与" - 如果 x 为 False，x and y 返回 x 的值，否则返回 y 的计算值。 | (a and b) 返回 20。     |
| or     | x or y     | 布尔"或" - 如果 x 是 True，它返回 x 的值，否则它返回 y 的计算值。 | (a or b) 返回 10。      |
| not    | not x      | 布尔"非" - 如果 x 为 True，返回 False 。如果 x 为 False，它返回 True。 | not(a and b) 返回 False |

### Python成员运算符

除了以上的一些运算符之外，Python还支持成员运算符，测试实例中包含了一系列的成员，包括字符串，列表或元组。

| 运算符 | 描述                                                    | 实例                                              |
| :----- | :------------------------------------------------------ | :------------------------------------------------ |
| in     | 如果在指定的序列中找到值返回 True，否则返回 False。     | x 在 y 序列中 , 如果 x 在 y 序列中返回 True。     |
| not in | 如果在指定的序列中没有找到值返回 True，否则返回 False。 | x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True。 |

### Python运算符优先级

以下表格列出了从最高到最低优先级的所有运算符：

| 运算符                   | 描述                                                   |
| :----------------------- | :----------------------------------------------------- |
| **                       | 指数 (最高优先级)                                      |
| ~ + -                    | 按位翻转, 一元加号和减号 (最后两个的方法名为 +@ 和 -@) |
| * / % //                 | 乘，除，求余数和取整除                                 |
| + -                      | 加法减法                                               |
| >> <<                    | 右移，左移运算符                                       |
| &                        | 位 'AND'                                               |
| ^ \|                     | 位运算符                                               |
| <= < > >=                | 比较运算符                                             |
| == !=                    | 等于运算符                                             |
| = %= /= //= -= += *= **= | 赋值运算符                                             |
| is is not                | 身份运算符                                             |
| in not in                | 成员运算符                                             |
| not and or               | 逻辑运算符                                             |

## 常用数学函数

###   数学函数

| 函数            | 返回值 ( 描述 )                                              |
| :-------------- | :----------------------------------------------------------- |
| abs(x)          | 返回数字的绝对值，如abs(-10) 返回 10                         |
| ceil(x)         | 返回数字的上入整数，如math.ceil(4.1) 返回 5                  |
| cmp(x, y)       | 如果 x < y 返回 -1, 如果 x == y 返回 0, 如果 x > y 返回 1。<br> **Python 3 已废弃，使用 (x>y)-(x<y) 替换**。 |
| exp(x)          | 返回e的x次幂(ex),如math.exp(1) 返回2.718281828459045         |
| fabs(x)         | 返回数字的绝对值，如math.fabs(-10) 返回10.0                  |
| floor(x)        | 返回数字的下舍整数，如math.floor(4.9)返回 4                  |
| log(x)          | 如math.log(math.e)返回1.0,math.log(100,10)返回2.0            |
| log10(x)        | 返回以10为基数的x的对数，如math.log10(100)返回 2.0           |
| max(x1, x2,...) | 返回给定参数的最大值，参数可以为序列。                       |
| min(x1, x2,...) | 返回给定参数的最小值，参数可以为序列。                       |
| modf(x)         | 返回x的整数部分与小数部分，两部分的数值符号与x相同，整数部分以浮点型表示。 |
| pow(x, y)       | x**y 运算后的值。                                            |
| round(x [,n\])  | 返回浮点数 x 的四舍五入值，如给出 n 值，则代表舍入到小数点后的位数。<br>**其实准确的说是保留值将保留到离上一位更近的一端。** |
| sqrt(x)         | 返回数字x的平方根。                                          |

### 随机数函数

随机数可以用于数学，游戏，安全等领域中，还经常被嵌入到算法中，用以提高算法效率，并提高程序的安全性。

random模块包含以下常用随机数函数：

| 函数                               | 描述                                                         |
| :--------------------------------- | :----------------------------------------------------------- |
| choice(seq)                        | 从序列的元素中随机挑选一个元素<br>如random.choice(range(10))，从0到9中随机挑选一个整数。 |
| randrange ([start,\] stop [,step]) | 从指定范围内，按指定基数(默认1)递增的集合中获取一个随机数    |
| random()                           | 随机生成下一个实数，它在[0,1)范围内。                        |
| seed([x\])                         | 改变随机数生成器的种子seed。                                 |
| shuffle(lst)                       | 将序列的所有元素随机排序                                     |
| uniform(x, y)                      | 随机生成下一个实数，它在[x,y]范围内。                        |

Python内置了一个random模块，可以通过这个模块来产生随机数。

~~~python
import random
print(random.randrange(1, 10))    #产生1个随机数，该数位于闭区间[1,9]内的整数
~~~

### 三角函数

math模块包括以下三角函数：

| 函数                                                         | 描述                                              |
| :----------------------------------------------------------- | :------------------------------------------------ |
| acos(x) | 返回x的反余弦弧度值。                             |
| asin(x) | 返回x的反正弦弧度值。                             |
| atan(x) | 返回x的反正切弧度值。                             |
| atan2(y, x) | 返回给定的 X 及 Y 坐标值的反正切值。              |
| cos(x) | 返回x的弧度的余弦值。                             |
| hypot(x, y) | 返回欧几里德范数 sqrt(x*x + y*y)。                |
| sin(x) | 返回的x弧度的正弦值。                             |
| tan(x) | 返回x弧度的正切值。                               |
| degrees(x) | 将弧度转换为角度,如degrees(math.pi/2) ， 返回90.0 |
| radians(x) | 将角度转换为弧度                                  |

### 数学常量

math模块包含的常量：

| 常量 | 描述                                                  |
| :--- | :---------------------------------------------------- |
| pi   | 数学常量 pi（圆周率，一般以π来表示），*π* = 3.141592… |
| e    | 数学常量 e，e即自然常数（自然常数）。*e* = 2.718281…  |

## 赋值操作

### 列表中的每个元素乘以一个数字

例如有一个list，my_list = [1, 2, 3, 4, 5]，要对每个数字都进行乘5操作，得到一个新的list。

~~~python
# 方法1: 直接赋值
my_list = [1, 2, 3, 4, 5]
my_new_list = [i * 5 for i in my_list]

>>> print(my_new_list)
[5, 10, 15, 20, 25]
~~~

~~~python
#方法2: 枚举
my_list = [1, 2, 3, 4, 5]
my_new_list = []
for i in my_list:
    my_new_list.append(i * 5)
print(my_new_list)
~~~

~~~python
# 方法3: 采用pandas来进行赋值
import pandas as pd

my_list = [1, 2, 3, 4, 5]
s = pd.Series(my_list)
my_new_list = (s * 5).tolist()
print(my_new_list)
~~~

~~~python
#方法4：采用numpy操作，速度快
import numpy as np

my_list = [1, 2, 3, 4, 5]
s = np.array(my_list)
my_new_list = (s * 5).tolist()
print(my_new_list)
~~~

~~~python
#方法5：采用内置的map函数
#此代码将my_list中的所有项传递给5的{1}方法__mul__，并返回类似迭代器的对象

my_list = [1, 2, 3, 4, 5]
my_new_list = list(map((5).__mul__, my_list))
print(my_new_list)
~~~

~~~python
#方法6： 循环遍历每个元素
my_list = [1, 2, 3, 4, 5]
my_new_list = []
for i in range(len(my_list)):
    my_new_list.append(my_list[i] * 5)

print(my_new_list)
~~~

~~~python
#用map函数
def y3(x):
    x*=5
    return x


my_list = [1, 2, 3, 4, 5]
my_new_list = list(map(y3, my_list))

print(my_new_list)

~~~



## list高级操作

### **合并列表（extend）**

跟元组一样，用加号（+）将两个列表加起来即可实现合并：

```python
In [1]: x=list(range(1, 13, 2))
In [2]: x + ['b', 'a']
Out[2]: [1, 3, 5, 7, 9, 11, 'b', 'a']
```

​    对于已定义的列表，可以用extend方法一次性添加多个元素：

```python
In [7]: x2=[3, 6, 1]
In [8]: x.extend(x2)
In [9]: x
Out[9]: [1, 3, 5, 7, 9, 11, 3, 6, 1, 3, 6, 1, 3, 6, 1]
```

​    **需要说明的是：加号（+）执行列表的合并是非常浪费资源的，因为必须创建一个新列表并将所有对象复制过去，而用extend将元素附加到现有列表（尤其是在构建一个大列表时）就会好很多。**

​    因此，在进行列表合并操作时，尤其是对于大数据量的列表合并，强烈建议使用extend函数。



### 列表排序（sort）

列表的sort方法可以实现就地排序（无需创建新对象，字符串按首字母进行排序）：

```python
In [10]: a=[1, 5, 3, -3, 0]
In [11]: a.sort()
In [12]: a
Out[12]: [-3, 0, 1, 3, 5]
In [13]: s=['a','ab','3e','z']
In [14]: s.sort()
In [15]: s
Out[15]: ['3e', 'a', 'ab', 'z']
```

​    **sort有几个很好用的选项，一个是次要排序键**，即一个能够产生可用于排序的值的函数。如可以通过长度对一组字符串进行排序：

```python
In [16]: b=['a','nl','drz','mowgt','aa']
In [17]: b.sort(key=len)
In [18]: b
Out[18]: ['a', 'nl', 'aa', 'drz', 'mowgt']
```

 **再比如是否进行降序排列**，如下面通过对首字母进行降序排列的示例：

```python
In [21]: b.sort(key= lambda x:x[0], reverse=True)
In [22]: b
Out[22]: ['nl', 'mowgt', 'drz', 'a', 'aa']
```



## **二分搜索及维护有序列表（bisect）**

**内置的bisect模块实现了二分查找以及对有序列表的插入操作**。**bisect.bisect可以找出新元素应该被插入到哪个位置以保持元列表的有序性，bisect.insort则将新元素插入到那个正确的位置上。**

```python
In [23]: import bisect
In [24]: c=[1,2,1,-1,4,5]
In [25]: c.sort()
In [26]: bisect.bisect(c, 2)
Out[26]: 4
In [27]: bisect.insort(c, 4)
In [28]: c
Out[28]: [-1, 1, 1, 2, 4, 4, 5]
```

​    **注意：bisect模块的函数不会判断原列表是否有序，**因为这样做开销太大；因此将他们用作无序列表时虽然不会出错，但可能会导致不正确的结果。基于此，建议在使用bisect模块的函数前，**先对原列表执行排序的操作。**

## **切片（索引运算符[]及start：stop）**

​    **可以对序列类型（数组、列表、元组等）进行切片操作**，**start索引处元素被包括在切片的结果中，stop索引处的元素未被包括在结果中，元素数量为 stop-start。start或stop都是可以省略的，此时他们分别默认为序列的起始处和结尾处**。

​    还可以在第二个冒号后加上**步长（step）**，比如每隔一位取一个元素：

```python
In [35]: d=[x for x in range(10)]
In [36]: d
Out[36]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
In [37]: e=d[:8:2]
In [38]: e
Out[38]: [0, 2, 4, 6]
```

​    **可以巧妙的使用 -1 ，实现对列表或元素的反序**，如下：

```python
In [40]: f=d[::-1]
In [41]: f
Out[41]: [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
```

**4、列表内置的序列函数**

​    **4.1 enumerate**

​    **enumerate函数可以逐个返回序列的（i, value）元组**，如下示例：

```python
In [43]: #for i value in enumerate(collection):
In [44]: #用 i, value 做一些事情
In [49]: slist=['qin', 'wang', 'wqc']
In [50]: mapping = dict((v, i) for i, v in enumerate(list))
In [51]: mapping
Out[51]: {'qin': 0, 'wang': 1, 'wqc': 2}
```

​    **4.2 sorted**

​    **sorted函数可以将任何序列返回为一个新的有序列表**（注意：sort函数是就地排序），如下：

```python
In [59]: sorted(['z', 'd', 'c', 'n'])
Out[59]: ['c', 'd', 'n', 'z']
In [60]: sorted('my name is chaogo')
Out[60]:
[' ',
 ' ',
 ' ',
 'a',
 'a',
 'c',
 'e',
 'g',
 'h',
 'i',
 'm',
 'm',
 'n',
 'o',
 'o',
 's',
 'y']
```

​    常常将**sorted和set**结合起来使用以得到一个**由序列中的唯一元素构成的有序列表**：

```python
In [61]: set(sorted('my name is chaogo'))
Out[61]: {' ', 'a', 'c', 'e', 'g', 'h', 'i', 'm', 'n', 'o', 's', 'y'}
In [62]: sorted(set('my name is chaogo'))
Out[62]: [' ', 'a', 'c', 'e', 'g', 'h', 'i', 'm', 'n', 'o', 's', 'y']
In [63]: set('my name is chaogo')
Out[63]: {' ', 'a', 'c', 'e', 'g', 'h', 'i', 'm', 'n', 'o', 's', 'y'}
```

​    **上面的结果都是一样的，什么原因呢？这是因为：（1）set和sorted是对序列进行操作，当参数不是序列时，会默认转换为列表；（2）set默认会对元素进行排序。**

**4.3 zip**

​    zip用于将多个序列（列表、元组等）中的元素“**配对**”，从而**产生一个新的元组列表**；**zip可以接受任意数量的序列，最终得到的元组数量由最短的序列决定**；zip最常见的用法是**同时迭代多个序列，还可以结合enumerate一起使用**，如下：

```python
In [77]: seq1 = ['chao', 'qing', 'wq']
In [78]: seq2 = ['qin', 'wang', 'qc']
In [79]: for i , (a,b) in enumerate(zip(seq1, seq2)):
    ...:     print('%d: %s %s' % (i, a, b))
    ...:
0: chao qin
1: qing wang
2: wq qc
```

​    对于“已压缩的”（zipped）序列，zip还有一个很巧妙的用法，即对该序列进行**解压（unzip，用\*表示）**。其实就是**将一组行转换为一组列**，如下：

```python
In [86]: pitchers = [('a','b'), (1,2), ('tmd','bat')]
In [87]: one, two = zip(*pitchers)
In [88]: one
Out[88]: ('a', 1, 'tmd')
In [89]: two
Out[89]: ('b', 2, 'bat')
```

​    **4.4 reversed**

  用于按逆序迭代序列中的元素，如下：

```python
In [92]: [x for x in reversed([1, 2, 5, 3, -1])]
Out[92]: [-1, 3, 5, 2, 1]
```

